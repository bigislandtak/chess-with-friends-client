[{"/Users/takeyuki/src/bigislandtak/chess-online/client/src/index.js":"1","/Users/takeyuki/src/bigislandtak/chess-online/client/src/reportWebVitals.js":"2","/Users/takeyuki/src/bigislandtak/chess-online/client/src/App.js":"3","/Users/takeyuki/src/bigislandtak/chess-online/client/src/Home/Home.js":"4","/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/GameRoom.js":"5","/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/Board.jsx":"6","/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/Square.jsx":"7","/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/Piece.jsx":"8","/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/useGame.js":"9"},{"size":500,"mtime":1609887493527,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1610058521649,"results":"12","hashOfConfig":"11"},{"size":427,"mtime":1610137579970,"results":"13","hashOfConfig":"11"},{"size":654,"mtime":1610085954164,"results":"14","hashOfConfig":"11"},{"size":1206,"mtime":1610318988375,"results":"15","hashOfConfig":"11"},{"size":1681,"mtime":1610318967486,"results":"16","hashOfConfig":"11"},{"size":1610,"mtime":1610318989759,"results":"17","hashOfConfig":"11"},{"size":931,"mtime":1610310164276,"results":"18","hashOfConfig":"11"},{"size":2792,"mtime":1610321529746,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"13y9cq0",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/takeyuki/src/bigislandtak/chess-online/client/src/index.js",[],["42","43"],"/Users/takeyuki/src/bigislandtak/chess-online/client/src/reportWebVitals.js",[],"/Users/takeyuki/src/bigislandtak/chess-online/client/src/App.js",[],"/Users/takeyuki/src/bigislandtak/chess-online/client/src/Home/Home.js",[],"/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/GameRoom.js",["44"],"import React, { useState } from \"react\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\nimport \"./GameRoom.css\";\nimport useGame from \"./useGame\";\nimport Board from \"./Board\";\n\nexport const GameRoomContext = React.createContext();\n\nconst GameRoom = (props) => {\n  console.log(\"GameRoom rendered\")\n\n  const { roomId } = props.match.params;\n  const [board, sendMove, playerColor, history] = useGame(roomId);\n  const playerViewBoard = (playerColor === 'w')? board.flat() : board.flat().reverse();\n\n  console.log(`Player color: ${playerColor}`)\n\n  // May need to make context a state of GameRoom or useRef it.\n  // For more info, look up \"Caveats\" in react doc\n  const context = {\n    board: board,\n    move: sendMove,\n    playerColor: \"\"\n  };\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <div className=\"game-room-container\">\n        <div className=\"board-container\">\n          <GameRoomContext.Provider value={context}>\n            <Board board={playerViewBoard} playerColor={playerColor} move={sendMove} history={history} />\n          </GameRoomContext.Provider>\n        </div>\n      </div>\n    </DndProvider>\n  );\n};\n\nexport default GameRoom;","/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/Board.jsx",["45","46"],"import React, { useState, useContext } from \"react\";\nimport { GameRoomContext } from \"./GameRoom\";\nimport Square from \"./Square\";\n\nconst Board = (props) => {\n    console.log(\"Board rendered\")\n\n    const context = useContext(GameRoomContext);\n\n    const getCoordinates = (squareIdx) => {\n        const x = (props.playerColor === 'w')? squareIdx % 8 : Math.abs(squareIdx % 8 - 7);\n        const y = (props.playerColor === 'w')? Math.abs(Math.floor(squareIdx / 8) - 7) : Math.floor(squareIdx / 8);\n        return [x, y];\n    };\n\n    const getSquarePosition = (squareIdx) => {\n        const cols = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\n        const [x, y] = getCoordinates(squareIdx);\n        return `${cols[x]}${y + 1}`;\n    };\n    \n    const getSquareColor = (squareIdx) => {\n        const [x, y] = getCoordinates(squareIdx);\n        const color = ((x + y) % 2 === 0)? 'b' : 'w';\n        return color;\n    };\n    \n    const pieces = props.board.map((piece, squareIdx) =>\n        <div key={squareIdx} className=\"square-container\">\n            <Square \n                piece={piece} \n                color={getSquareColor(squareIdx)} \n                position={getSquarePosition(squareIdx)}\n                move={props.move}\n                history={props.history}\n                // squareIdx={squareIdx} \n                // onClickPiece={handleClickPiece(squareIdx)}\n                // onClickSquare={handleClickSquare}\n                // style={{\n                //     border: states.borders[squareIdx]\n                // }}\n            />\n        </div>\n    );\n\n    return (\n        <div className=\"board\">\n            {pieces}\n        </div>\n    );\n};\n\nexport default Board;","/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/Square.jsx",["47","48","49","50"],"import React, { useState } from \"react\";\nimport Piece from \"./Piece\";\nimport { useDrop } from \"react-dnd\";\n\nconst LIGHT = \" #f0f0b4\";\nconst DARK = \"#6f8f4f\";\nconst LAST_MOVE = \"#d3e84a\";\nconst LAST_MOVE_LIGHT = \"#dbdb8f\";\nconst LAST_MOVE_DARK = \"#96a152\";\n\nconst Square = (props) => {\n    const className = (props.color === 'b')? \"square-dark\" : \"square-light\";\n    const squareColor = (props.color === 'b')? DARK : LIGHT;\n    const lastMoveSquareColor = (props.color === 'b')? LAST_MOVE_DARK : LAST_MOVE_LIGHT;\n\n    const [{ isOver }, drop] = useDrop({\n        accept: \"piece\",\n        drop: (item) => {\n            const [from] = item.id.split('_');\n            const move = { from: from, to: props.position };\n            props.move(move);\n        },\n        collect: (monitor) => {\n            return { isOver: !!monitor.isOver() };\n        }\n    });\n\n    const piece = (props.piece)? <Piece piece={props.piece} position={props.position} /> : <div>&nbsp;</div>;\n    const lastMoveFrom = props.history.length > 0 && props.history[props.history.length - 1].from;\n    const lastMoveTo = props.history.length > 0 && props.history[props.history.length - 1].to;\n    \n    return (\n        <div \n            className={className} \n            ref={drop} \n            style={{ \n                backgroundColor: (lastMoveFrom === props.position || lastMoveTo === props.position)? lastMoveSquareColor : squareColor, \n                opacity: isOver? 0.75 : 1, \n                // border: isOver? \"1px solid white\" : \"none\" \n            }}\n        >\n            {piece}\n        </div>\n    );\n};\n\nexport default Square;","/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/Piece.jsx",[],"/Users/takeyuki/src/bigislandtak/chess-online/client/src/GameRoom/useGame.js",["51"],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":1,"column":17,"nodeType":"58","messageId":"59","endLine":1,"endColumn":25},{"ruleId":"56","severity":1,"message":"57","line":1,"column":17,"nodeType":"58","messageId":"59","endLine":1,"endColumn":25},{"ruleId":"56","severity":1,"message":"60","line":8,"column":11,"nodeType":"58","messageId":"59","endLine":8,"endColumn":18},{"ruleId":"56","severity":1,"message":"57","line":1,"column":17,"nodeType":"58","messageId":"59","endLine":1,"endColumn":25},{"ruleId":"56","severity":1,"message":"61","line":7,"column":7,"nodeType":"58","messageId":"59","endLine":7,"endColumn":16},{"ruleId":"56","severity":1,"message":"62","line":29,"column":11,"nodeType":"58","messageId":"59","endLine":29,"endColumn":23},{"ruleId":"56","severity":1,"message":"63","line":30,"column":11,"nodeType":"58","messageId":"59","endLine":30,"endColumn":21},{"ruleId":"64","severity":1,"message":"65","line":71,"column":8,"nodeType":"66","endLine":71,"endColumn":16,"suggestions":"67"},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'context' is assigned a value but never used.","'LAST_MOVE' is assigned a value but never used.","'lastMoveFrom' is assigned a value but never used.","'lastMoveTo' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'states.inCheck', 'states.inDraw', and 'states.inStalemate'. Either include them or remove the dependency array.","ArrayExpression",["70"],"no-global-assign","no-unsafe-negation",{"desc":"71","fix":"72"},"Update the dependencies array to be: [roomId, states.inCheck, states.inDraw, states.inStalemate]",{"range":"73","text":"74"},[2370,2378],"[roomId, states.inCheck, states.inDraw, states.inStalemate]"]